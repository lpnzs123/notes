# Liowl 的开发手册

---

## 序言

---

每个人的编码风格不同，这导致了所谓的最佳实践在不同的编码风格下，发挥的效用可能不尽相同。

秉持着具体问题具体分析的思想，我决定记录下我在遇到相关问题时，自己思考、自己总结出的最佳实践。

这些个最佳实践汇总起来，便是 Liowl 的开发手册了。

<br />

本手册**规范级别**如下：

* 【强制】（主）级别：该级别所标识的规范必须严格执行，不可有所偏差。
* 【建议】（主）级别：该级别所标识的规范可选择性执行，根据实际开发情况而定。
* 【废弃】（主）级别：该级别所标识的规范暂时保留，未来可能会从手册中移除。规范所规定的内容**可选择性使用，但慎用**。
* 【通用】（副）级别：该级别所标识的规范，不限制于规范所在的开发规范（即规范集合，例如后端开发规范），而适用于所有的开发规范。未被该级别标识的规范，默认只适用于规范所在的开发规范。
* 【适用：适用范围】（副）级别：该级别所标识的规范，级别中标识了规范的适用范围。适用范围可以是一个或多个开发规范，用分号隔开。

副级别作为主级别的补充，跟在主级别的后面标识同一个规范。主级别可以跟随多个副级别，但是一个规范只能有一个主级别。

<br />

每个**规范的详细解释**（以下简称规范详解）分为三部分：

* 正例：符合规范的例子。
* 反例：不符合规范的例子。
* 原因：规范如此规定的原因。

规范详解的正例、反例成对出现，但不一定要写。规范详解的原因可写，也可以不写。

<br />

开发手册使用 Markdown 语言编写而成，请使用 Markdown 阅读器进行阅读。

<br />

## 开发手册书写规范

---

### 格式

---

1. 【强制】特殊字符（非中文）必须与中文字符用空格隔开。若特殊字符位于语句开头，前不加空格。若特殊字符位于语句结尾，后不加空格。
2. 【强制】语句以`。`结尾，且不可省略。注意，代码块中的注释不受本条规范的制约。
3. 【强制】标题下必须有分割线，不可省略。
4. 【强制】只有代码或公式才可以使用代码块的方式进行包裹。
   * 正例：`BEGIN;`、`ROLLBACK;`、`1 * 2 = 2`。
   * 反例：`隔离性`、`原子性`、`*`。
5. 【强制】标题内容的结尾处必须含有代码`<br />`。
6. 【建议】加粗应只加粗词语或短语，非必要不加粗句子。

<br />

### 用语

---

1. 【强制】语言表意应精炼简洁，通俗易懂。反问句、双重否定句等容易引起理解困难的句式不应该被使用。

<br />

## 数据库开发规范

---

### 表字段

---

1. 【强制】表主键的命名必须加上表名缩写前缀。

   * 正例：产品表（product 表）的主键命名为 p_id。
   * 反例：产品表的主键命名为 id。

2. 【建议】除表主键外，表字段的命名方案有两种（注意，同一个项目中不可同时采取两种方案）：

   * 方案一：表之间的公共字段命名相同，表之间公共但独有的字段（例如产品和客户都有名字，但是产品名和客户名是不同的）加上表名缩写前缀，表独有的字段不加上表名缩写前缀。

     * 正例：产品表（product 表）的产品名称字段与客户表（client 表）的客户名称字段分别命名为`p_name`和`c_name`，产品表和客户表均存在是否删除字段`del_flag`。

     * 反例：产品表的产品名称字段与客户表的客户名称字段分别命名为`name`和`name`。

   * 方案二：表之间的公共字段命名相同，表之间公共但独有的字段和表独有的字段加上表名缩写前缀。

3. 【强制】表字段若存在多种状态，其注释的额外信息用**中文逗号**分割状态信息而不是空格或其他符号。

   * 正例：表字段 close 的注释为：是否关闭（0：未关闭，1：已关闭）。
   * 反例：表字段 close 的注释为：是否关闭（0：未关闭 1：已关闭）。

<br />

## 泛用开发规范

---

### 注释

---

1. 【强制】【适用：前端开发规范、后端开发规范】注释符号和注释内容之间必须有空格。
   * 正例：`// 我是注释`，`/* 我是注释 */`。
   * 反例：`//我是注释`，`/*我是注释*/`。
2. 【强制】【通用】禁止使用尾行注释。

<br />

### 命名

---

1. 【建议】【适用：前端开发规范、后端开发规范】命名中包含的英语单词不要超过五个，不要使用拼音命名。

<br />

### 代码

---

1. 【强制】【适用：前端开发规范、后端开发规范】代码嵌套不允许超过三层，超过三层请自行优化代码。

<br />

## 后端开发规范

---

### 命名

---

1. 【强制】增、删、改、查四个方法的命名，分别以单词 add、delete、update、select 作为前缀开头。

<br />

## 前端开发规范

---

### 命名

---

1. 【强制】VUE 或 UNIAPP 创建页面或组件时，其命名不要使用小驼峰形式，而是使用短横线分隔形式或大驼峰形式。
   * 正例：`customer-contacts-info`，`CustomerContactsInfo`。
   * 反例：`customerContactsInfo`。
2. 【建议】命名与命名使用的方案有如下两个（注意，同一个项目中不可同时采取两种方案）：
   * 方案一：
     * 组件或页面名用大驼峰形式或短横线分隔形式命名。
     * 模板（template）中用短横线分隔形式**引用**组件。
     * 脚本（script）中用大驼峰形式**引用**组件。
   * 方案二：方案一中统一采用大驼峰形式书写代码。

<br />

### 代码

---

1. 【强制】函数语法在同一个项目中必须统一，不可在同一个项目中混用多种函数语法。

   * 正例：

     ```javascript
     /**
      * 说 Hello 方法
      */
     function sayHello() {
         ...
     }
     
     /**
      * 说 Goodbye 方法
      */
     function sayGoodbye() {
         ...
     }
     ```

   * 反例：

     ```javascript
     /**
      * 说 Hello 方法
      */
     function sayHello() {
         ...
     }
     
     /**
      * 说 Goodbye 方法
      */
     const sayGoodbye = function () {
         ...
     }
     ```
     

2. 【强制】代码行末尾不加分号。
